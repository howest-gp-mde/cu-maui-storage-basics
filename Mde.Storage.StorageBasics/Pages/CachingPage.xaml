<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Mde.Storage.StorageBasics.Pages.CachingPage"
             Title="CachingPage">

    <RefreshView IsRefreshing="{Binding IsRefreshing}" Command="{Binding RefreshCommand}">
        <ScrollView>
            <StackLayout>
                
                <Label>
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Last page visit at: "></Span>
                            <Span TextColor="{StaticResource Primary}" Text="{Binding LastUpdate}"></Span>
                        </FormattedString>
                    </Label.FormattedText>
                </Label>

                <Image WidthRequest="100">
                    <Image.Source>
                        <UriImageSource 
                            Uri="https://picsum.photos/200/300"
                            CachingEnabled="True"
                            CacheValidity="00:00:30" />
                    </Image.Source>
                </Image>

                <Image Source="{Binding CachedImageSource}"></Image>

            </StackLayout>
        </ScrollView>
    </RefreshView>
</ContentPage>